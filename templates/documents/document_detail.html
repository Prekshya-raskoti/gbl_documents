{% extends "base.html" %}


{% block content %}
<h2>Documents for {{ vendor.name }}</h2>
<hr>

{% if documents %}
    {% for document in documents %}
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">{{ document.get_document_type_display }}</h5>

                <p><strong>Uploaded At:</strong> {{ document.uploaded_at }}</p>
                <p><strong>Updated At:</strong> {{ document.updated_at }}</p>

                <p><strong>File:</strong>
                    {% if document.file %}
                        {{ document.file.name }}
                        <a href="{{ document.file.url }}" target="_blank" class="btn btn-sm btn-primary ms-2">
                            View File
                        </a>
                    {% else %}
                        <span class="text-muted">No file uploaded.</span>
                    {% endif %}
                </p>

                <a href="{% url 'documents:document_edit' document.pk %}" class="btn btn-warning btn-sm">
                    <i class="fa fa-edit"></i> Edit
                </a>

                <form method="POST" action="{% url 'documents:document_delete' document.pk %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">
                        <i class="fa fa-trash"></i>
                    </button>
                </form>
            </div>
        </div>
    {% endfor %}
{% else %}
    <p>No documents found for this vendor.</p>
{% endif %}

    <div class="form-group justify-content-between mt-4">
        <a href="{% url 'documents:document_list' %}" class="btn btn-secondary">Back to List</a>
        <a href="{% url 'documents:document_create' %}" class="btn btn-primary">Add Documents</a>
    </div>
{% endblock %}
